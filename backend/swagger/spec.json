{"openapi":"3.0.0","info":{"title":"API","version":"1.0.0"},"paths":{"/me":{"get":{"security":[{"bearerAuth":[]}],"tags":["Customer"],"responses":{"200":{"description":"User profile returned","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Client"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"404":{"$ref":"#/components/responses/UserAccount"},"500":{"description":"Server error"}}}},"/{id}":{"get":{"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer"}}],"security":[{"bearerAuth":[]}],"tags":["Customer"],"responses":{"200":{"$ref":"#/components/responses/ReadedUser"},"400":{"$ref":"#/components/responses/InvalidRole"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Server error"}}},"delete":{"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer"},"description":"Numeric ID of the user to delete"}],"security":[{"bearerAuth":[]}],"tags":["Customer"],"responses":{"400":{"$ref":"#/components/responses/ValidationError"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/AccessDeniedError"},"404":{"$ref":"#/components/responses/UserNotFound"},"500":{"description":"Server error"}}}},"/":{"patch":{"security":[{"bearerAuth":[]}],"tags":["Customer"],"responses":{"400":{"$ref":"#/components/responses/ValidationError"},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/AccessDeniedError"},"404":{"$ref":"#/components/responses/UserNotFound"},"500":{"description":"Error server"}}}},"/login":{"post":{"summary":"Authenticates a customer","tags":["Niveau principal"],"security":[{"bearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/loginSchema"}}}},"responses":{"400":{"$ref":"#/components/responses/ValidationError"},"401":{"$ref":"#/components/responses/InvalidInput"},"500":{"description":"Error server"}}}},"/getAllCities":{"get":{"tags":["Niveau principal"],"responses":{"200":{"$ref":"#/components/responses/ReadAllCities"},"500":{"description":"Error server"}}}},"/productType":{"get":{"tags":["Niveau principal"],"responses":{"200":{"description":"Read all the successful cities","content":{"text/plain":{"schema":{"type":"string"}}}},"500":{"description":"Error server"}}}}},"components":{"schemas":{"Address":{"type":"object","properties":{"id":{"type":"integer"},"city":{"type":"string"},"postal_code":{"type":"string"}}},"Client":{"type":"object","properties":{"id":{"type":"integer"},"username":{"type":"string"},"street":{"type":"string"},"streetNumber":{"type":"integer"},"photo":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}},"loginSchema":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]}},"responses":{"ReadAllCities":{"description":"all cities read from the extern API","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Address"}}}},"UserAdded":{"description":"The user added at the database","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"}}}}}},"UpdatedUser":{"description":"The user updated in the database","content":{"text/plain":{"schema":{"type":"string"}}}},"InvalidOldPassword":{"description":"Incorrect old password","content":{"text/plain":{"schema":{"type":"string"}}}},"UserNotFound":{"description":"User not found","content":{"text/plain":{"schema":{"type":"string"}}}},"InternalServerError":{"description":"Server error","content":{"text/plain":{"schema":{"type":"string"}}}},"DeletedUser":{"description":"The user is deleted from the database","content":{"text/plain":{"schema":{"type":"string"}}}},"UserAccount":{"description":"The user want see his account","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Client"}}}},"ReadedUser":{"description":"The user wants to read the existing users","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Client"}}}},"InvalidRole":{"description":"The role is invalid","content":{"text/plain":{"schema":{"type":"string"}}}},"InvalidInput":{"description":"User/password incorrect","content":{"text/plain":{"schema":{"type":"string"}}}},"UnauthorizedError":{"description":"JWT is missing or invalid","content":{"text/plain":{"schema":{"type":"string","example":"Unauthorized access"}}}},"mustBeAdmin":{"description":"User verification requires administrator privileges","content":{"text/plain":{"schema":{"type":"string","example":"Admin privileges required"}}}},"AccessDeniedError":{"description":"Not the same user or not an admin","content":{"text/plain":{"schema":{"type":"string","example":"Access denied"}}}},"ValidationError":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"tags":[]}